# MEC

Music emotion classifiers based on lyrics using LDA, SVM, and AdaBoost

# Setup instructions

1. Clone repo
2. Install git-lfs (Follow instructions on https://git-lfs.github.com/)
3. Create virtual env (Optional)
4. Run 'pip install -r requirements.txt'

# Dataset

Original using dataset found in 'data/spotify/' and 'data/deezer/' directories, which do not include lyrics. Lyrics for each song was scraped from Genius using tweaked-version of [lyricsgenius](https://pypi.org/project/lyricsgenius/0.3/) (with slight modification to search_song api). Upon completion, a gen\_{dataset_name}\_data.csv and gen\_{dataset_name}\_error_log.txt is created for each dataset.

## gen_dataset.py

Running 'python shared/gen_dataset.py' will initiate scraping for lyrics for each song in the datasets. The result of api call is verified quickly by checking that song title & artist names found online match with dataset values before being store.

Columns

1. song - song title (string)
2. artist - artist name (string)
3. valence - valence rating (numeric)
4. arousal - arousal rating (numeric)
5. lyrics - lyrics (string)
6. found_song - song title found online (string)
7. found_artist - artist name found online (string)

## clean_dataset.py

Running 'python shared/clean_dataset.py' will initiate some basic cleaning/preprocessing of datasets generated by shared/gen_dataset.py. Songs are cleaned based on lyric length, lyric tags (e.g. [VERSE 1]), language (English only using [langdetect](https://pypi.org/project/langdetect/)), word count limit, and unique word count threshold. Following this, generation of emotion class label ('y') takes place based on the quadrants of valence-arousal space (see fig. below).

![alt text](https://www.researchgate.net/profile/Yading_Song/publication/277715957/figure/fig2/AS:294225095741449@1447160137959/Valence-Arousal-model-showing-the-quadrants-of-the-four-emotion-tags-used-in-this.png)

Columns

1. song - song title (string)
2. artist - artist name (string)
3. valence - valence rating (numeric)
4. arousal - arousal rating (numeric)
5. lyrics - lyrics (string)
6. found_song - song title found online (string)
7. found_artist - artist name found online (string)
8. y - emotion class label from 1-4 (numeric)
